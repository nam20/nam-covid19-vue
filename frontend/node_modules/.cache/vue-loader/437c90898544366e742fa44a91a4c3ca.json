{"remainingRequest":"C:\\projects\\nam-lol\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\projects\\nam-lol\\frontend\\src\\components\\WorldDaily.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\projects\\nam-lol\\frontend\\src\\components\\WorldDaily.vue","mtime":1601398570460},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBHQ2hhcnQgfSBmcm9tICd2dWUtZ29vZ2xlLWNoYXJ0cycNCmltcG9ydCBDaGFydENhcmQgZnJvbSAnLi9DaGFydENhcmQnDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9jaGFydC9MaW5lQ2hhcnQnDQppbXBvcnQgaXNvQ291bnRyaWVzIGZyb20gJ0AvZGF0YS9pc29Db3VudHJpZXMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOnsNCiAgICAgICAgR0NoYXJ0LA0KICAgICAgICBDaGFydENhcmQsDQogICAgICAgIExpbmVDaGFydA0KICAgIH0sDQogICAgcHJvcHM6Wydjb3VudHJ5RGF0YSddLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHdvcmxkR2VvQ2hhcnREYXRhOiBbWydDb3VudHJ5JywgJ+2ZleynhOyekCcsICfsgqzrp53snpAnXV0sDQogICAgICAgICAgICB3b3JsZEdlb0NoYXJ0T3B0aW9uczogew0KICAgICAgICAgICAgICAgIHJlc29sdXRpb246ICdjb3VudHJpZXMnLA0KICAgICAgICAgICAgICAgIGNvbG9yQXhpczp7DQogICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiAwLCAgY29sb3JzOiBbJyNmZmZjZmMnLCAnI2IwMGIwYiddDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6NTUwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgd29ybGRHZW9DaGFydExvYWRlZDogZmFsc2UsDQoNCiAgICAgICAgICAgIGRhaWx5VG90YWxDaGFydERhdGE6ICcnLA0KICAgICAgICAgICAgZGFpbHlUb3RhbENoYXJ0TG9hZGVkOiBmYWxzZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgIHRoaXMuZ2V0V29ybGREYWlseVRvdGFsQ2hhcnQoKQ0KICAgIH0sDQogICAgd2F0Y2g6ew0KICAgICAgICBjb3VudHJ5RGF0YSgpew0KICAgICAgICAgICAgdGhpcy53b3JsZENvdW50cnlHZW9DaGFydCgpDQogICAgICAgIH0sDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgd29ybGRDb3VudHJ5R2VvQ2hhcnQoKXsNCg0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY291bnRyeURhdGENCg0KICAgICAgICAgICAgY29uc3QgY291bnRyeUdlb0RhdGEgPSBkYXRhLm1hcChjb3ZpZCA9PiB7DQoNCiAgICAgICAgICAgICAgICBjb25zdCBpc29Db3VudHJ5ID0gaXNvQ291bnRyaWVzW2NvdmlkLmNvdW50cnldDQogICAgICAgICAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICAgICAgICAgICAgeyANCiAgICAgICAgICAgICAgICAgICAgICAgIHY6IGlzb0NvdW50cnkuaXNvLA0KICAgICAgICAgICAgICAgICAgICAgICAgZjogaXNvQ291bnRyeS5uYW1lDQogICAgICAgICAgICAgICAgICAgIH0sIA0KICAgICAgICAgICAgICAgICAgICBjb3ZpZC5jb25maXJtZWQsIA0KICAgICAgICAgICAgICAgICAgICBjb3ZpZC5kZWF0aHMNCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9KS5maWx0ZXIoY292aWQgPT4gY292aWRbMF0udikNCg0KICAgICAgICAgICAgdGhpcy53b3JsZEdlb0NoYXJ0RGF0YSA9IHRoaXMud29ybGRHZW9DaGFydERhdGEuY29uY2F0KGNvdW50cnlHZW9EYXRhKQ0KDQogICAgICAgICAgICB0aGlzLndvcmxkR2VvQ2hhcnRMb2FkZWQgPSB0cnVlDQogICAgICAgIH0sDQogICAgICAgIGFzeW5jIGdldFdvcmxkRGFpbHlUb3RhbENoYXJ0KCl7DQoNCiAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGF4aW9zLmdldCgnL2NvdmlkL3dvcmxkL2RhaWx5JykNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmRhaWx5VG90YWxDaGFydERhdGEgID0gew0KICAgICAgICAgICAgICAgICAgICBsYWJlbHMgOiBkYXRhLm1hcChjb3ZpZCA9PiBjb3ZpZC5yZXBvcnREYXRlLnN1YnN0cmluZyg1KSksDQogICAgICAgICAgICAgICAgICAgIGRhdGFzZXRzOlsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+2ZleynhOyekCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6J3JnYmEoNTQsIDE2MiwgMjM1LCAxKScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOidyZ2JhKDU0LCAxNjIsIDIzNSwgMC4yKScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRCb3JkZXJDb2xvcjoncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6J3JnYmEoNTQsIDE2MiwgMjM1LCAxKScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YS5tYXAoY292aWQgPT4gY292aWQuY29uZmlybWVkLnRvdGFsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KDQogICAgICAgICAgICAgICAgdGhpcy5kYWlseVRvdGFsQ2hhcnRMb2FkZWQgPSB0cnVlDQogICAgICAgICAgICB9Y2F0Y2goZSl7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["WorldDaily.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"WorldDaily.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-row>\r\n        <v-col cols=\"12\" md=\"6\">\r\n            <chart-card>\r\n                <template v-slot:title>\r\n                    코로나 발병 세계 지도\r\n                </template>\r\n                <template v-slot:body>\r\n                    <GChart\r\n                    type=\"GeoChart\"\r\n                    :settings=\"{ packages: [ 'geochart'] }\"\r\n                    :data=\"worldGeoChartData\"\r\n                    :options=\"worldGeoChartOptions\"\r\n                    :resizeDebounce=\"1000\"\r\n                    v-if=\"worldGeoChartLoaded\"\r\n                    \r\n                    />\r\n                </template>\r\n            </chart-card>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"6\">\r\n            <chart-card>\r\n                <template v-slot:title>\r\n                    전세계 확진자 증가추이\r\n                </template>\r\n                <template v-slot:body>\r\n                    <line-chart\r\n                    :chart-data=\"dailyTotalChartData\"\r\n                    v-if=\"dailyTotalChartLoaded\"\r\n                    :height=\"550\">\r\n                    </line-chart>\r\n                </template>\r\n            </chart-card>\r\n        </v-col>\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { GChart } from 'vue-google-charts'\r\nimport ChartCard from './ChartCard'\r\nimport LineChart from '@/components/chart/LineChart'\r\nimport isoCountries from '@/data/isoCountries'\r\n\r\nexport default {\r\n    components:{\r\n        GChart,\r\n        ChartCard,\r\n        LineChart\r\n    },\r\n    props:['countryData'],\r\n    data(){\r\n        return {\r\n            worldGeoChartData: [['Country', '확진자', '사망자']],\r\n            worldGeoChartOptions: {\r\n                resolution: 'countries',\r\n                colorAxis:{\r\n                    minValue: 0,  colors: ['#fffcfc', '#b00b0b']\r\n                },\r\n                height:550\r\n            },\r\n            worldGeoChartLoaded: false,\r\n\r\n            dailyTotalChartData: '',\r\n            dailyTotalChartLoaded: false\r\n        }\r\n    },\r\n    created(){\r\n        this.getWorldDailyTotalChart()\r\n    },\r\n    watch:{\r\n        countryData(){\r\n            this.worldCountryGeoChart()\r\n        },\r\n    },\r\n    methods:{\r\n        worldCountryGeoChart(){\r\n\r\n            const data = this.countryData\r\n\r\n            const countryGeoData = data.map(covid => {\r\n\r\n                const isoCountry = isoCountries[covid.country]\r\n                return [\r\n                    { \r\n                        v: isoCountry.iso,\r\n                        f: isoCountry.name\r\n                    }, \r\n                    covid.confirmed, \r\n                    covid.deaths\r\n                ]\r\n            }).filter(covid => covid[0].v)\r\n\r\n            this.worldGeoChartData = this.worldGeoChartData.concat(countryGeoData)\r\n\r\n            this.worldGeoChartLoaded = true\r\n        },\r\n        async getWorldDailyTotalChart(){\r\n\r\n            try{\r\n                const { data } = await axios.get('/covid/world/daily')\r\n                \r\n                \r\n                this.dailyTotalChartData  = {\r\n                    labels : data.map(covid => covid.reportDate.substring(5)),\r\n                    datasets:[\r\n                        {\r\n                            label: '확진자',\r\n                            borderColor:'rgba(54, 162, 235, 1)',\r\n                            backgroundColor:'rgba(54, 162, 235, 0.2)',\r\n                            pointBorderColor:'rgba(255, 255, 255, 0)',\r\n                            pointBackgroundColor:'rgba(54, 162, 235, 1)',\r\n                            \r\n                            borderWidth: 2,\r\n                            data: data.map(covid => covid.confirmed.total)\r\n                        }\r\n                    ]\r\n                }\r\n                \r\n\r\n                this.dailyTotalChartLoaded = true\r\n            }catch(e){\r\n                console.error(e)\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}