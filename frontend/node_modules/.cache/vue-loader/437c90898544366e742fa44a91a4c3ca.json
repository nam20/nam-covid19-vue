{"remainingRequest":"C:\\projects\\nam-lol\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\projects\\nam-lol\\frontend\\src\\components\\WorldDaily.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\projects\\nam-lol\\frontend\\src\\components\\WorldDaily.vue","mtime":1601803666254},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\projects\\nam-lol\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBHQ2hhcnQgfSBmcm9tICd2dWUtZ29vZ2xlLWNoYXJ0cycNCmltcG9ydCBDaGFydENhcmQgZnJvbSAnLi9DaGFydENhcmQnDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9jaGFydC9MaW5lQ2hhcnQnDQppbXBvcnQgaXNvQ291bnRyaWVzIGZyb20gJ0AvZGF0YS9pc29Db3VudHJpZXMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOnsNCiAgICAgICAgR0NoYXJ0LA0KICAgICAgICBDaGFydENhcmQsDQogICAgICAgIExpbmVDaGFydA0KICAgIH0sDQogICAgcHJvcHM6Wydjb3VudHJ5RGF0YSddLA0KICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHdvcmxkR2VvQ2hhcnREYXRhOiBbWydDb3VudHJ5JywgJ+2ZleynhOyekCcsICfsgqzrp53snpAnXV0sDQogICAgICAgICAgICB3b3JsZEdlb0NoYXJ0T3B0aW9uczogew0KICAgICAgICAgICAgICAgIHJlc29sdXRpb246ICdjb3VudHJpZXMnLA0KICAgICAgICAgICAgICAgIGNvbG9yQXhpczp7DQogICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiAwLCAgY29sb3JzOiBbJyNmZmZjZmMnLCAnI2IwMGIwYiddDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhcnRIZWlnaHQNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB3b3JsZEdlb0NoYXJ0TG9hZGVkOiBmYWxzZSwNCg0KICAgICAgICAgICAgZGFpbHlUb3RhbENoYXJ0RGF0YTogJycsDQogICAgICAgICAgICBkYWlseVRvdGFsQ2hhcnRMb2FkZWQ6IGZhbHNlLA0KDQogICAgICAgICAgICBjaGFydFJhdGlvIDogMC42MjQsDQogICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKXsNCiAgICAgICAgdGhpcy5nZXRXb3JsZERhaWx5VG90YWxDaGFydCgpDQogICAgfSwNCiAgICB3YXRjaDp7DQogICAgICAgIGNvdW50cnlEYXRhKCl7DQogICAgICAgICAgICB0aGlzLndvcmxkQ291bnRyeUdlb0NoYXJ0KCkNCiAgICAgICAgfSwNCiAgICAgICAgY2hhcnRIZWlnaHQoKXsNCiAgICAgICAgICAgIHRoaXMud29ybGRHZW9DaGFydE9wdGlvbnMuaGVpZ2h0ID0gdGhpcy5jaGFydEhlaWdodA0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jaGFydEhlaWdodCkNCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6ew0KICAgICAgICBjaGFydEhlaWdodCgpew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC53aWR0aCAqIDAuNjI0DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICB3b3JsZENvdW50cnlHZW9DaGFydCgpew0KDQogICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5jb3VudHJ5RGF0YQ0KDQogICAgICAgICAgICBjb25zdCBjb3VudHJ5R2VvRGF0YSA9IGRhdGEubWFwKGNvdmlkID0+IHsNCg0KICAgICAgICAgICAgICAgIGNvbnN0IGlzb0NvdW50cnkgPSBpc29Db3VudHJpZXNbY292aWQuY291bnRyeV0NCiAgICAgICAgICAgICAgICByZXR1cm4gWw0KICAgICAgICAgICAgICAgICAgICB7IA0KICAgICAgICAgICAgICAgICAgICAgICAgdjogaXNvQ291bnRyeS5pc28sDQogICAgICAgICAgICAgICAgICAgICAgICBmOiBpc29Db3VudHJ5Lm5hbWUNCiAgICAgICAgICAgICAgICAgICAgfSwgDQogICAgICAgICAgICAgICAgICAgIGNvdmlkLmNvbmZpcm1lZCwgDQogICAgICAgICAgICAgICAgICAgIGNvdmlkLmRlYXRocw0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0pLmZpbHRlcihjb3ZpZCA9PiBjb3ZpZFswXS52KQ0KDQogICAgICAgICAgICB0aGlzLndvcmxkR2VvQ2hhcnREYXRhID0gdGhpcy53b3JsZEdlb0NoYXJ0RGF0YS5jb25jYXQoY291bnRyeUdlb0RhdGEpDQoNCiAgICAgICAgICAgIHRoaXMud29ybGRHZW9DaGFydExvYWRlZCA9IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZ2V0V29ybGREYWlseVRvdGFsQ2hhcnQoKXsNCg0KICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgIC8vY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJy9jb3ZpZC93b3JsZC9kYWlseScpDQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5nZXQoJ2h0dHBzOi8vY292aWQxOS5tYXRoZHJvLmlkL2FwaS9kYWlseScpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgdGhpcy5kYWlseVRvdGFsQ2hhcnREYXRhICA9IHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWxzIDogZGF0YS5tYXAoY292aWQgPT4gY292aWQucmVwb3J0RGF0ZS5zdWJzdHJpbmcoNSkpLA0KICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czpbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICftmZXsp4TsnpAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOidyZ2JhKDU0LCAxNjIsIDIzNSwgMSknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjoncmdiYSg1NCwgMTYyLCAyMzUsIDAuMiknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50Qm9yZGVyQ29sb3I6J3JnYmEoMjU1LCAyNTUsIDI1NSwgMCknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50QmFja2dyb3VuZENvbG9yOidyZ2JhKDU0LCAxNjIsIDIzNSwgMSknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiAyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEubWFwKGNvdmlkID0+IGNvdmlkLmNvbmZpcm1lZC50b3RhbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmRhaWx5VG90YWxDaGFydExvYWRlZCA9IHRydWUNCiAgICAgICAgICAgIH1jYXRjaChlKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpDQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgb25SZXNpemUoKXsNCiAgICAgICAgICAgIHRoaXMuY2hhcnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["WorldDaily.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"WorldDaily.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-row>\r\n        <v-col cols=\"12\" md=\"12\">\r\n            <chart-card>\r\n                <template v-slot:title>\r\n                    코로나 발병 세계 지도\r\n                </template>\r\n                <template v-slot:body>\r\n                    <GChart\r\n                    type=\"GeoChart\"\r\n                    :settings=\"{ packages: [ 'geochart'] }\"\r\n                    :data=\"worldGeoChartData\"\r\n                    :options=\"worldGeoChartOptions\"\r\n                    :resizeDebounce=\"500\"\r\n                    v-if=\"worldGeoChartLoaded\"\r\n                    \r\n                    />\r\n                </template>\r\n            </chart-card>\r\n        </v-col>\r\n        <!-- <v-col cols=\"12\" md=\"6\">\r\n            <chart-card>\r\n                <template v-slot:title>\r\n                    전세계 확진자 증가추이\r\n                </template>\r\n                <template v-slot:body>\r\n                    <line-chart\r\n                    :chart-data=\"dailyTotalChartData\"\r\n                    v-if=\"dailyTotalChartLoaded\"\r\n                    :height=\"450\">\r\n                    </line-chart>\r\n                </template>\r\n            </chart-card>\r\n        </v-col> -->\r\n    </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { GChart } from 'vue-google-charts'\r\nimport ChartCard from './ChartCard'\r\nimport LineChart from '@/components/chart/LineChart'\r\nimport isoCountries from '@/data/isoCountries'\r\n\r\nexport default {\r\n    components:{\r\n        GChart,\r\n        ChartCard,\r\n        LineChart\r\n    },\r\n    props:['countryData'],\r\n    data(){\r\n        return {\r\n            worldGeoChartData: [['Country', '확진자', '사망자']],\r\n            worldGeoChartOptions: {\r\n                resolution: 'countries',\r\n                colorAxis:{\r\n                    minValue: 0,  colors: ['#fffcfc', '#b00b0b']\r\n                },\r\n                height: this.chartHeight\r\n            },\r\n            worldGeoChartLoaded: false,\r\n\r\n            dailyTotalChartData: '',\r\n            dailyTotalChartLoaded: false,\r\n\r\n            chartRatio : 0.624,\r\n           \r\n            \r\n        }\r\n    },\r\n    created(){\r\n        this.getWorldDailyTotalChart()\r\n    },\r\n    watch:{\r\n        countryData(){\r\n            this.worldCountryGeoChart()\r\n        },\r\n        chartHeight(){\r\n            this.worldGeoChartOptions.height = this.chartHeight\r\n            console.log(this.chartHeight)\r\n        }\r\n    },\r\n    computed:{\r\n        chartHeight(){\r\n            return this.$vuetify.breakpoint.width * 0.624\r\n        }\r\n    },\r\n    methods:{\r\n        worldCountryGeoChart(){\r\n\r\n            const data = this.countryData\r\n\r\n            const countryGeoData = data.map(covid => {\r\n\r\n                const isoCountry = isoCountries[covid.country]\r\n                return [\r\n                    { \r\n                        v: isoCountry.iso,\r\n                        f: isoCountry.name\r\n                    }, \r\n                    covid.confirmed, \r\n                    covid.deaths\r\n                ]\r\n            }).filter(covid => covid[0].v)\r\n\r\n            this.worldGeoChartData = this.worldGeoChartData.concat(countryGeoData)\r\n\r\n            this.worldGeoChartLoaded = true\r\n        },\r\n        async getWorldDailyTotalChart(){\r\n\r\n            try{\r\n                //const { data } = await axios.get('/covid/world/daily')\r\n                const { data } = await axios.get('https://covid19.mathdro.id/api/daily')\r\n                \r\n                this.dailyTotalChartData  = {\r\n                    labels : data.map(covid => covid.reportDate.substring(5)),\r\n                    datasets:[\r\n                        {\r\n                            label: '확진자',\r\n                            borderColor:'rgba(54, 162, 235, 1)',\r\n                            backgroundColor:'rgba(54, 162, 235, 0.2)',\r\n                            pointBorderColor:'rgba(255, 255, 255, 0)',\r\n                            pointBackgroundColor:'rgba(54, 162, 235, 1)',\r\n                            \r\n                            borderWidth: 2,\r\n                            data: data.map(covid => covid.confirmed.total)\r\n                        }\r\n                    ]\r\n                }\r\n                \r\n                this.dailyTotalChartLoaded = true\r\n            }catch(e){\r\n                console.error(e)\r\n            }\r\n            \r\n        },\r\n        onResize(){\r\n            this.chartHeight = window.innerHeight\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}